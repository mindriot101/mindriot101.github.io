<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>circularspace - ssh</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <link href="/feeds/all.xml" type="application/atom+xml" rel="alternate" title="circularspace Atom Feed" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">circularspace </a></h1>
                <nav><ul>
                    <li><a href="/category/gaming.html">gaming</a></li>
                    <li><a href="/category/life.html">life</a></li>
                    <li><a href="/category/science.html">science</a></li>
                    <li><a href="/category/tech.html">tech</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/tunneling-to-a-remote-machine-via-ssh.html">Tunneling to a remote machine via ssh</a></h1>
<footer class="post-info">
        <abbr class="published" title="2011-04-08T13:57:00+02:00">
                Published: Fri 08 April 2011
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/simon-walker.html">Simon Walker</a>
        </address>
<p>In <a href="/category/tech.html">tech</a>. </p>
<p>tags: <a href="/tag/ssh.html">ssh</a> <a href="/tag/linux.html">linux</a> </p>
</footer><!-- /.post-info --><p>Update: For the most part, I want to tunnel from the server to the local machine. This only works with the localhostname set to localhost, for example to tunnel a mysql server to the current machine port 10101:</p>
<div class="highlight"><pre>ssh -L 10101:localhost:3306 user@remoteserver.com -N
</pre></div>


<p>The localhost is important, and in this case the mysql client (on the local machine) has to have the hostname set to 127.0.0.1 (for some reason localhost doesnt work). 
Ive been trying to access my works MySQL database from outside the universities firewall and was having issues. Im still having issues but thats another story: Ill get to that.
Some definitions: the local machine is my machine accessing the server from outside the firewall, and the server machine is the one running the server and is behind the firewall.
My initial test was to run a rails server (which runs on port 3000) on the server machine. It serves a basic test page just to show it works. 
To set up a tunnel, I used the following command:</p>
<div class="highlight"><pre>ssh -L localport:localhostname:remoteport user@remoteserver -N
</pre></div>


<p>The -L means set up a tunnel, and -N means to not actually log in to the server. For this example I mapped port 3000 on the server machine to port 10101 on the local machine by running:</p>
<div class="highlight"><pre>ssh -L 10101:hostname:3000 user@remoteserver -N
</pre></div>


<p>Then went to my web browser and typed localhost:10101 and got a simple rails start page. Et voila!</p>
<p><img alt="ssh tunnel" src="{{" title="site.url }}/assets/images/ssh-tunnel.jpg" /></p>
<p>To access my MySQL server, this worked ok but the permissions for my username had to be altered as me@localhost (from the tunnel) could not access the databases owned by me@remoteserver due to the changing username. This is a separate issue so I will sort this out later!</p><p>There are <a href="/tunneling-to-a-remote-machine-via-ssh.html#disqus_thread">comments</a>.</p>                </article>
<p class="paginator">
    Page 1 / 1
</p>
            </aside><!-- /#featured -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://mindriot101.github.io/cv/">CV</a></li>
                            <li><a href="https://osrc.dfm.io/mindriot101/">OSRC</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="/feeds/all.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://twitter.com/srwalker101">@srwalker101</a></li>
                            <li><a href="https://github.com/mindriot101">mindriot101</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'circularspace-blog';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>